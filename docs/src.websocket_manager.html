<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            padding: 0; 
            background: #f8f9fa;
            line-height: 1.6;
        }
        
        .nav-bar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .nav-title {
            font-size: 24px;
            font-weight: bold;
            margin: 0;
        }
        
        .nav-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 20px;
            background: rgba(255,255,255,0.1);
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .nav-links a:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
        
        .nav-links a.active {
            background: rgba(255,255,255,0.3);
            font-weight: bold;
        }
        
        .content-wrapper {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .module-header {
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            margin: 0 -20px 20px -20px;
        }
        
        .module-title {
            font-size: 32px;
            margin: 0 0 10px 0;
            font-weight: 300;
        }
        
        .module-path {
            font-size: 16px;
            opacity: 0.9;
            font-family: 'Courier New', monospace;
        }
        
        .content {
            padding: 20px;
        }
        
        /* Style existing pydoc elements */
        tt, code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            overflow-x: auto;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #dee2e6;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background: #f8f9fa;
            font-weight: 600;
        }
        
        .footer {
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
            margin-top: 40px;
            color: #6c757d;
            border-top: 1px solid #dee2e6;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-links {
                justify-content: center;
            }
            
            .content-wrapper {
                margin: 10px;
                padding: 0 15px;
            }
            
            .module-title {
                font-size: 24px;
            }
        }
    </style>
    
<meta charset="utf-8">
<title>Python: module src.websocket_manager</title>
</head><body>
    <div class="nav-bar">
        <div class="nav-container">
            <h1 class="nav-title">Presentator Docs</h1>
            <div class="nav-links">
                <a href="index.html"> Home</a>
                    <a href="app.html" class="">Main Application</a>
                <a href="src.http_server.html" class="">HTTP Server</a>
                <a href="src.slideshow_manager.html" class="">Slideshow Manager</a>
                <a href="src.websocket_manager.html" class=" active">WebSocket Manager</a>
                <a href="src.pptx_parse.html" class="">PowerPoint Parser</a>
                <a href="src.utils.html" class="">Utilities</a>
            </div>
        </div>
    </div>
    
    <div class="content-wrapper">
        <div class="module-header">
            <h1 class="module-title">WebSocket Manager</h1>
            <div class="module-path">src/websocket_manager.py</div>
        </div>
        <div class="content">
    

<table class="heading">
<tr class="heading-text decor">
<td class="title">&nbsp;<br><strong class="title"><a href="src.html" class="white">src</a>.websocket_manager</strong></td>
<td class="extra"><a href=".">index</a><br><a href="file:c%3A%5Cusers%5Csimon.raus%5Cdocuments%5Cmonitor-controller%5Csrc%5Cwebsocket_manager.py">c:\users\simon.raus\documents\monitor-controller\src\websocket_manager.py</a></td></tr></table>
    <p><span class="code">WebSocket&nbsp;Management&nbsp;Module&nbsp;for&nbsp;Presentator<br>
&nbsp;<br>
This&nbsp;module&nbsp;provides&nbsp;the&nbsp;<a href="#WebSocketManager">WebSocketManager</a>&nbsp;class&nbsp;which&nbsp;handles&nbsp;real-time<br>
communication&nbsp;between&nbsp;the&nbsp;server&nbsp;and&nbsp;connected&nbsp;clients&nbsp;(viewers&nbsp;and&nbsp;controllers).<br>
Manages&nbsp;connection&nbsp;state,&nbsp;broadcasting,&nbsp;and&nbsp;message&nbsp;handling&nbsp;for&nbsp;synchronized<br>
slideshow&nbsp;control&nbsp;across&nbsp;multiple&nbsp;devices.</span></p>
<p>
<table class="section">
<tr class="decor pkg-content-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Modules</strong></td></tr>
    
<tr><td class="decor pkg-content-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><table><tr><td class="multicolumn"><a href="asyncio.html">asyncio</a><br>
</td><td class="multicolumn"><a href="json.html">json</a><br>
</td><td class="multicolumn"><a href="logging.html">logging</a><br>
</td><td class="multicolumn"><a href="websockets.html">websockets</a><br>
</td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor index-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Classes</strong></td></tr>
    
<tr><td class="decor index-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl>
<dt class="heading-text"><a href="builtins.html#object">builtins.object</a>
</dt><dd>
<dl>
<dt class="heading-text"><a href="src.websocket_manager.html#WebSocketManager">WebSocketManager</a>
</dt></dl>
</dd>
</dl>
 <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="WebSocketManager">class <strong>WebSocketManager</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code">Manages&nbsp;WebSocket&nbsp;connections&nbsp;and&nbsp;real-time&nbsp;state&nbsp;broadcasting.<br>
&nbsp;<br>
Handles&nbsp;all&nbsp;WebSocket&nbsp;communication&nbsp;for&nbsp;the&nbsp;Presentator&nbsp;system,&nbsp;including<br>
client&nbsp;connection&nbsp;management,&nbsp;state&nbsp;synchronization,&nbsp;and&nbsp;message&nbsp;broadcasting<br>
to&nbsp;all&nbsp;connected&nbsp;viewers&nbsp;and&nbsp;controllers.<br>
&nbsp;<br>
Attributes:<br>
&nbsp;&nbsp;&nbsp;&nbsp;clients&nbsp;(set):&nbsp;Set&nbsp;of&nbsp;active&nbsp;WebSocket&nbsp;connections<br>
&nbsp;&nbsp;&nbsp;&nbsp;current_state&nbsp;(dict):&nbsp;Current&nbsp;system&nbsp;state&nbsp;including:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;current_slideshow:&nbsp;Active&nbsp;slideshow&nbsp;data<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;current_slide:&nbsp;Current&nbsp;slide&nbsp;index<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;slideshows:&nbsp;List&nbsp;of&nbsp;available&nbsp;slideshows<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;playing:&nbsp;Playback&nbsp;status<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="WebSocketManager-__init__"><strong>__init__</strong></a>(self)</dt><dd><span class="code">Initialize&nbsp;the&nbsp;<a href="#WebSocketManager">WebSocketManager</a>.<br>
&nbsp;<br>
Sets&nbsp;up&nbsp;empty&nbsp;client&nbsp;set&nbsp;and&nbsp;initial&nbsp;state&nbsp;with&nbsp;no&nbsp;active&nbsp;slideshow.</span></dd></dl>

<dl><dt>async <a name="WebSocketManager-broadcast_slideshows_list"><strong>broadcast_slideshows_list</strong></a>(self)</dt><dd><span class="code">Broadcast&nbsp;updated&nbsp;slideshows&nbsp;list&nbsp;to&nbsp;all&nbsp;connected&nbsp;clients.<br>
&nbsp;<br>
Sends&nbsp;the&nbsp;current&nbsp;list&nbsp;of&nbsp;available&nbsp;slideshows&nbsp;to&nbsp;all&nbsp;connected&nbsp;clients.<br>
Used&nbsp;when&nbsp;slideshows&nbsp;are&nbsp;added,&nbsp;removed,&nbsp;or&nbsp;modified&nbsp;to&nbsp;keep&nbsp;all<br>
interfaces&nbsp;synchronized.<br>
&nbsp;<br>
Note:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Only&nbsp;broadcasts&nbsp;if&nbsp;there&nbsp;are&nbsp;connected&nbsp;clients.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Handles&nbsp;connection&nbsp;errors&nbsp;by&nbsp;removing&nbsp;failed&nbsp;connections.</span></dd></dl>

<dl><dt>async <a name="WebSocketManager-broadcast_state"><strong>broadcast_state</strong></a>(self)</dt><dd><span class="code">Broadcast&nbsp;current&nbsp;state&nbsp;to&nbsp;all&nbsp;connected&nbsp;clients.<br>
&nbsp;<br>
Sends&nbsp;the&nbsp;current&nbsp;system&nbsp;state&nbsp;(slideshow,&nbsp;slide&nbsp;index,&nbsp;playback&nbsp;status)<br>
to&nbsp;all&nbsp;connected&nbsp;WebSocket&nbsp;clients.&nbsp;Automatically&nbsp;removes&nbsp;disconnected<br>
clients&nbsp;from&nbsp;the&nbsp;client&nbsp;set.<br>
&nbsp;<br>
Note:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Creates&nbsp;a&nbsp;copy&nbsp;of&nbsp;clients&nbsp;set&nbsp;to&nbsp;avoid&nbsp;modification&nbsp;during&nbsp;iteration.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Handles&nbsp;connection&nbsp;errors&nbsp;gracefully&nbsp;by&nbsp;removing&nbsp;failed&nbsp;connections.</span></dd></dl>

<dl><dt><a name="WebSocketManager-get_current_state"><strong>get_current_state</strong></a>(self)</dt><dd><span class="code">Get&nbsp;the&nbsp;current&nbsp;application&nbsp;state.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;current&nbsp;system&nbsp;state&nbsp;to&nbsp;prevent&nbsp;external<br>
modification&nbsp;of&nbsp;internal&nbsp;state.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;Copy&nbsp;of&nbsp;current&nbsp;state&nbsp;containing&nbsp;slideshow&nbsp;and&nbsp;playback&nbsp;information</span></dd></dl>

<dl><dt>async <a name="WebSocketManager-handle_client"><strong>handle_client</strong></a>(self, websocket)</dt><dd><span class="code">Handle&nbsp;new&nbsp;WebSocket&nbsp;client&nbsp;connections.<br>
&nbsp;<br>
Manages&nbsp;the&nbsp;lifecycle&nbsp;of&nbsp;a&nbsp;WebSocket&nbsp;client&nbsp;connection,&nbsp;including:<br>
-&nbsp;Adding&nbsp;client&nbsp;to&nbsp;active&nbsp;connections&nbsp;set<br>
-&nbsp;Sending&nbsp;initial&nbsp;state&nbsp;to&nbsp;new&nbsp;client<br>
-&nbsp;Processing&nbsp;incoming&nbsp;messages&nbsp;and&nbsp;commands<br>
-&nbsp;Cleaning&nbsp;up&nbsp;on&nbsp;disconnection<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;websocket:&nbsp;WebSocket&nbsp;connection&nbsp;<a href="builtins.html#object">object</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Note:<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;method&nbsp;runs&nbsp;for&nbsp;the&nbsp;duration&nbsp;of&nbsp;the&nbsp;client&nbsp;connection.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Automatically&nbsp;removes&nbsp;client&nbsp;from&nbsp;set&nbsp;when&nbsp;connection&nbsp;closes.</span></dd></dl>

<dl><dt>async <a name="WebSocketManager-handle_command"><strong>handle_command</strong></a>(self, command, params)</dt><dd><span class="code">Handle&nbsp;WebSocket&nbsp;commands&nbsp;from&nbsp;clients.<br>
&nbsp;<br>
Processes&nbsp;commands&nbsp;received&nbsp;from&nbsp;connected&nbsp;clients&nbsp;and&nbsp;updates&nbsp;system<br>
state&nbsp;accordingly.&nbsp;Broadcasts&nbsp;state&nbsp;changes&nbsp;to&nbsp;all&nbsp;connected&nbsp;clients.<br>
&nbsp;<br>
Supported&nbsp;commands:<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;refresh_slideshows:&nbsp;Reload&nbsp;slideshow&nbsp;list<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;load_slideshow:&nbsp;Load&nbsp;specific&nbsp;slideshow&nbsp;by&nbsp;ID<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;set_slide:&nbsp;Navigate&nbsp;to&nbsp;specific&nbsp;slide<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;play:&nbsp;Start&nbsp;slideshow&nbsp;playback<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;pause:&nbsp;Pause&nbsp;slideshow&nbsp;playback<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;stop:&nbsp;Stop&nbsp;slideshow&nbsp;and&nbsp;reset<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;command&nbsp;(str):&nbsp;Command&nbsp;name<br>
&nbsp;&nbsp;&nbsp;&nbsp;params&nbsp;(dict):&nbsp;Command&nbsp;parameters</span></dd></dl>

<dl><dt>async <a name="WebSocketManager-start_websocket_server"><strong>start_websocket_server</strong></a>(self, port=50001)</dt><dd><span class="code">Start&nbsp;the&nbsp;WebSocket&nbsp;server.<br>
&nbsp;<br>
Creates&nbsp;and&nbsp;starts&nbsp;the&nbsp;WebSocket&nbsp;server&nbsp;on&nbsp;the&nbsp;specified&nbsp;port,<br>
listening&nbsp;on&nbsp;all&nbsp;network&nbsp;interfaces.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;port&nbsp;(int):&nbsp;Port&nbsp;number&nbsp;to&nbsp;listen&nbsp;on&nbsp;(default:&nbsp;50001)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Server&nbsp;<a href="builtins.html#object">object</a>&nbsp;from&nbsp;websockets.serve()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Note:<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;method&nbsp;starts&nbsp;the&nbsp;server&nbsp;but&nbsp;doesn't&nbsp;block.&nbsp;Use&nbsp;with&nbsp;asyncio.run()<br>
&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;similar&nbsp;to&nbsp;run&nbsp;the&nbsp;server.</span></dd></dl>

<dl><dt><a name="WebSocketManager-update_slideshows_list"><strong>update_slideshows_list</strong></a>(self, slideshows)</dt><dd><span class="code">Update&nbsp;the&nbsp;global&nbsp;slideshows&nbsp;list.<br>
&nbsp;<br>
Updates&nbsp;the&nbsp;internal&nbsp;state&nbsp;with&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;available&nbsp;slideshows.<br>
This&nbsp;method&nbsp;is&nbsp;called&nbsp;when&nbsp;slideshows&nbsp;are&nbsp;discovered,&nbsp;added,&nbsp;or&nbsp;removed.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;slideshows&nbsp;(list):&nbsp;List&nbsp;of&nbsp;slideshow&nbsp;dictionaries</span></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object</span></dd>
</dl>
</td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor functions-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Functions</strong></td></tr>
    
<tr><td class="decor functions-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl><dt>async <a name="-broadcast_slideshows_list"><strong>broadcast_slideshows_list</strong></a>()</dt></dl>
 <dl><dt>async <a name="-broadcast_state"><strong>broadcast_state</strong></a>()</dt></dl>
 <dl><dt><a name="-get_current_state"><strong>get_current_state</strong></a>()</dt></dl>
 <dl><dt><a name="-get_default_manager"><strong>get_default_manager</strong></a>()</dt></dl>
 <dl><dt>async <a name="-handle_client"><strong>handle_client</strong></a>(websocket)</dt></dl>
 <dl><dt>async <a name="-handle_command"><strong>handle_command</strong></a>(command, params)</dt></dl>
 <dl><dt>async <a name="-start_websocket_server"><strong>start_websocket_server</strong></a>(port=50001)</dt></dl>
 <dl><dt><a name="-update_slideshows_list"><strong>update_slideshows_list</strong></a>(slideshows)</dt></dl>
</td></tr></table><p>
<table class="section">
<tr class="decor data-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Data</strong></td></tr>
    
<tr><td class="decor data-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><strong>clients</strong> = set()<br>
<strong>current_state</strong> = {'current_slide': 0, 'current_slideshow': None, 'playing': False, 'slideshows': []}</td></tr></table>
</body></html>
        </div>
    </div>
    <div class="footer">
        <p>Generated with pydoc for Presentator System | 
        <a href="https://github.com/ArsuMinSo/monitor-controller" style="color: #667eea;">View on GitHub</a></p>
    </div>
    